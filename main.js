(()=>{"use strict";const t=(()=>{const t=function(t){for(let e=0;e<t.length;e++)t[e].style.color="black",t[e].style.borderColor="black"};return{visibleDiv:function(t){"visible"===t.style.visibility?t.style.visibility="hidden":t.style.visibility="visible"},selectedDiv:function(e,s){"red"===s.style.color?t(e):(t(e),s.style.color="red",s.style.borderColor="red")},tastStatusDisplay}})(),e=(()=>{const e=document.querySelector("#newTaskButton"),i=document.querySelector("#newTaskForm");e.addEventListener("click",(()=>{t.visibleDiv(newTaskFOrm)})),document.querySelector("#submitTaskButton").addEventListener("click",(()=>{const e=document.querySelector("#taskName").Value;""==e&&(e="Task");const n=document.querySelector("input[type=radio][name=priority]:checked").value;s.projectsList[s.currentProjectIndex].tasks.push(((t,e,s)=>({name:t,status:"NotDone",priority:s}))(e,0,n)),t.visibleDiv(i),r(projets.projectsList[s.currentProjectIndex].tasks.length-1),o.saveToLocal()}));const r=function(e=0){const i=document.querySelector("#tasks");let r=s.projectsList[s.currentProjectIndex].tasks;for(let c=e;c<r.length;c++){const e=document.createElement("div");e.classList.add("listTask");const a=document.createElement("i");a.classList.add("materialIcons"),a.classList.add("taskStatus"),a.classList.add(`taskStatus${r[c].status}`),a.textContent="radio_button_unchecked";const l=document.createElement("p");l.textContent=r[c].name;const d=document.createElement("div");d.classList.add("taskButtons");const u=document.createElement("button");u.type="button",u.classList.add("priorityButtons"),u.classList.add(r[c].priority);const p=document.createElement("i");p.classList.add("materialIcons"),p.textContent="priorityHigh",u.appendChild(p),u.addEventListener("click",(()=>{"lowPriority"==r[c].priority?(s.projectsList[s.currentProjectIndex].tasks[c].priority="mediumPriority",u.classList.remove("lowPriority"),u.classList.add("mediumPriority")):"mediumPriority"==r[c].priority?(s.projectsList[s.currentProjectIndex].tasks[c].priority="highPriority",u.classList.remove("mediumPriority"),u.classList.add("highPriority")):"highPriority"==r[c].priority&&(s.projectsList[s.currentProjectIndex].tasks[c].priority="lowPriority",u.classList.remove("highPriority"),u.classList.add("lowPriority")),o.saveToLocal()}));const m=document.createElement("button");m.type="button",m.classList.add("taskStatusButton"),m.textContent="Change Status",m.addEventListener("click",(()=>{"notDone"==r[c].status?s.projectsList[s.currentProjectIndex].tasks[c].status="done":"done"==r[c].status?s.projectsList[s.currentProjectIndex].tasks[c].status="failed":"failed"==r[c].status&&(s.projectsList[s.currentProjectIndex].tasks[c].status="notDone"),t.taskStatusDisplay(c),o.saveToLocal()}));const y=document.createElement("button");y.type="button",y.classList.add("deleteTaskButton");const L=document.createElement("i");L.classList.add("materialIcons"),L.textContent="remove",y.appendChild(L),y.addEventListener("click",(()=>{n(y,c)})),d.appendChild(u),d.appendChild(m),d.appendChild(y),e.appendChild(a),e.appendChild(l),e.appendChild(d),i.appendChild(e)}},n=function(t,e){s.projectsList[s.currentProjectIndex].tasks.splice(e,1),t.parentElement.parentElement.remove()};return{taskTitleDivDisplay:function(){const t=document.querySelector("#projectDataName"),e=document.querySelector("#projectDataDate");t.textContent=s.projectsList[s.currentProjectIndex].name,e.textContent=s.projectsList[s.currentProjectIndex].dueDate},tasksDisplay:r,clearTaskDisplay:function(){const t=document.querySelector("#tasks");for(;t.firstChild;)t.removeChild(t.firstChild),o.saveToLocal()}}})(),s=(()=>{const i=document.querySelector("#newProjectButton"),r=document.querySelector("#newProjectForm");i.addEventListener("click",(()=>{t.visibleDiv(r)})),document.querySelector("#submitProjectButton").addEventListener("click",(()=>{let e=document.querySelector("#projectName").value;""==e&&(e="Project");let i=document.querySelector("#dueDate").value;if(""==i){let t=new Date,e=t.getFullYear(),s=(t.getMonth()+1).toString();for(;s.length<2;)s="0"+s;let o=t.getDate().toString();for(;o.length<2;)currentDat="0"+o;i=`${e}-${s}-${o}`}i=i.split("-").reverse().join("/"),s.projectsList.push(((t,e,s)=>({name:t,dueDate:e,tasks:[]}))(e,i)),n(s.projectsList.length-1),t.visibleDiv(r),o.saveToLocal()}));const n=function(o=0){const i=document.querySelector("#projects");for(let r=o;r<s.projectsList.length;r++){const o=document.createElement("div");o.classList.add("projectsDiv");const n=document.createElement("button");n.type="button",n.classList.add("projectName"),n.textContent=s.projectsList[r].name,n.addEventListener("click",(()=>{t.selectedDiv(document.querySelectorAll(".projectName"),n),c(r);const s=document.querySelector("#taskList");"visible"!=listOfTasts.style.visibility&&(s.style.visibility="visible"),e.taskTitleDivDisplay(),e.clearTaskDisplay(),e.tasksDisplay()}));const l=document.createElement("button");l.classList.add("deleteProjectButton"),l.type="button";const d=document.createElement("i");d.classList.add("materialIcons"),d.textContent="remove",l.appendChild(d),l.addEventListener("click",(()=>{a(l,r)})),o.appendChild(n),o.appendChild(l),i.appendChild(o)}},c=function(t){s.currentProjectIndex=t},a=function(t,e){s.projectsList.splice(e,1),t.parentElement.remove(),0==s.projectsList.length&&(document.querySelector("#taskList").style.visibility="hidden"),o.saveToLocal()};return{projectsList:[],currentProjectIndex:void 0,displayProjects:n}})(),o={saveToLocal:function(){localStorage.setItem("projects.projectsList",JSON.stringify(s.projectsList))},loadFromLocal};o.loadLocalStorage()})();